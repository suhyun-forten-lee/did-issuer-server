on
  push
    branches
      - main # Change this to your default branch if it's different

jobs
  deploy
    runs-on ubuntu-latest

    steps
      - name Checkout code
        uses actionscheckout@v2

      - name Setup Node.js
        uses actionssetup-node@v2
        with
          node-version 18 # Use Node.js 18 here

      - name Install dependencies
        run npm install

      - name Build site
        run npm run build

      - name Deploy to GitHub Pages
        uses peaceirisactions-gh-pages@v3
        with
          github_token ${{ secrets.GITHUB_TOKEN }}
          publish_dir .build # Change this if your build output directory is different 